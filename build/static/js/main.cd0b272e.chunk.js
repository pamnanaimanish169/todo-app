(this["webpackJsonptodo-app"]=this["webpackJsonptodo-app"]||[]).push([[0],{180:function(e,t,a){},181:function(e,t,a){},182:function(e,t,a){},213:function(e,t,a){},214:function(e,t,a){},215:function(e,t,a){},257:function(e,t,a){},260:function(e,t,a){"use strict";a.r(t);var r=a(1),s=a.n(r),c=a(39),n=a.n(c),o=(a(180),a(181),a(50)),i=a(70),l=a(0),d=a(2),j=(a(182),a(20)),u=a(52),b=a(6),m=a(7),h=a(15),p=a(47),O=a.n(p),f=function(e,t){var a=Object(r.useState)({}),s=Object(h.a)(a,2),c=s[0],n=s[1],o=Object(r.useState)({}),i=Object(h.a)(o,2),l=i[0],d=i[1],j=Object(r.useState)(!1),u=Object(h.a)(j,2),p=u[0],f=u[1];Object(r.useEffect)((function(){"profileSubmit"!=e.name||p||(console.log("i am inside the useEffect MyProfile"),O.a.get('https://todo-react-91a88-default-rtdb.firebaseio.com/users.json?orderBy="email"&equalTo='+g).then((function(e){var t=Object.entries(e.data)[0][1];n((function(e){return Object(m.a)(Object(m.a)({},e),{},{name:t.name,image:t.profile_picture})}))})).catch((function(e){console.log(e)}))),0===Object.keys(l).length&&p&&e()}),[l]);var x=JSON.parse(localStorage.getItem("userDetails")),g="".concat('"'+(null===x||void 0===x?void 0:x.email)+'"');return{handleChange:function(e){console.log(e),console.log(e.target),console.log(e.target.name),"startDate"!=e.target.name&&"dueDate"!=e.target.name&&(console.log("startDate is not defned"),e.persist()),n((function(t){return Object(m.a)(Object(m.a)({},t),{},Object(b.a)({},e.target.name,e.target.value))}))},handleSubmit:function(e){e&&e.preventDefault(),d(t(c)),f(!0)},values:c,errors:l}};function x(e){var t={};return e.email?/\S+@\S+\.\S+/.test(e.email)||(t.email="Email address is invalid"):t.email="Email address is required",e.password?e.password.length<8&&(t.password="Password must be 8 or more characters"):t.password="Password is required",t}var g=a(94),v=a(163),w=a(164),D={apiKey:"AIzaSyB-WokKazRK9AGJ5PnTJL5RB4BhRnts4po",authDomain:"todo-react-91a88.firebaseapp.com",databaseURL:"https://todo-react-91a88.firebaseio.com",projectId:"todo-react-91a88",storageBucket:"todo-react-91a88.appspot.com",messagingSenderId:"934578458877",appId:"1:934578458877:web:6693228667e026d300ae94",measurementId:"G-R8T8L11EEV"},y=Object(v.a)(D),S=Object(g.b)(y),C=(Object(w.a)(y),a(5));var I=function(){var e=f((function(){return n.apply(this,arguments)}),x),t=e.values,a=e.errors,r=e.handleChange,s=e.handleSubmit,c=Object(i.g)();function n(){return(n=Object(d.a)(Object(l.a)().mark((function e(){var a,r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(g.c)(S,t.email,t.password);case 3:a=e.sent,r="".concat('"'+t.email+'"'),O.a.get('https://todo-react-91a88-default-rtdb.firebaseio.com/users.json?orderBy="email"&equalTo='+r).then((function(e){var t=Object.entries(e.data);localStorage.setItem("userDetails",JSON.stringify(t[0][1]))})).catch((function(e){})),localStorage.setItem("accessToken",a.user.accessToken),localStorage.setItem("userDetails",JSON.stringify(t)),alert("Login is successfull."),b(),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(0);case 14:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function b(){c.push("tasks")}return Object(C.jsx)("div",{children:Object(C.jsxs)(j.a,{className:"form",children:[Object(C.jsxs)(j.a.Group,{className:"mb-3",controlId:"formGroupEmail",children:[Object(C.jsx)(j.a.Label,{children:"Email"}),Object(C.jsx)(j.a.Control,{name:"email",type:"email",placeholder:"Email",onChange:r,value:t.email,required:!0})]}),a.email&&Object(C.jsx)("h3",{children:a.email}),Object(C.jsxs)(j.a.Group,{className:"mb-3",controlId:"formGroupPassword",children:[Object(C.jsx)(j.a.Label,{children:"Password"}),Object(C.jsx)(j.a.Control,{name:"password",type:"password",placeholder:"Enter password",onChange:r,value:t.password,required:!0})]}),a.password&&Object(C.jsx)("h3",{children:a.password}),Object(C.jsx)(u.a,{type:"submit",variant:"primary",onClick:s,children:"Submit"}),Object(C.jsx)("div",{children:Object(C.jsxs)(j.a.Label,{children:["New user? ",Object(C.jsx)(o.b,{to:"/register",children:"Register"})," "]})})]})})};a(213);function P(e){var t={};return console.log(e),e.name||(t.name="Name is required."),e.confirmPassword?e.password!=e.confirmPassword&&(t.confirmPassword="Password & COnfirm Password should match."):t.confirmPassword="Confirm Password is required",e.email?/\S+@\S+\.\S+/.test(e.email)||(t.email="Email address is invalid"):t.email="Email address is required",e.password?e.password.length<8&&(t.password="Password must be 8 or more characters"):t.password="Password is required",t}var N=function(){var e=Object(i.g)(),t=f((function(){return n.apply(this,arguments)}),P),a=t.values,r=t.errors,s=t.handleChange,c=t.handleSubmit;function n(){return(n=Object(d.a)(Object(l.a)().mark((function e(){var t;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(g.a)(S,a.email,a.password);case 3:t=e.sent,O.a.post("https://todo-react-91a88-default-rtdb.firebaseio.com/users.json",{name:a.name,email:a.email,profile_picture:""}).then((function(e){})).catch((function(e){})),localStorage.setItem("accessToken",t.user.accessToken),localStorage.setItem("userDetails",JSON.stringify(a)),alert("Signup is successfull."),b(),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(0);case 13:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function b(){e.push("tasks")}return Object(C.jsx)("div",{children:Object(C.jsxs)(j.a,{className:"form",children:[Object(C.jsxs)(j.a.Group,{className:"mb-3",controlId:"formGroupName",children:[Object(C.jsx)(j.a.Label,{children:"Name"}),Object(C.jsx)(j.a.Control,{name:"name",type:"text",placeholder:"Enter name",onChange:s,value:a.name})]}),r.name&&Object(C.jsx)("h3",{children:"Name is required."}),Object(C.jsxs)(j.a.Group,{className:"mb-3",controlId:"formGroupEmail",children:[Object(C.jsx)(j.a.Label,{children:"Email"}),Object(C.jsx)(j.a.Control,{name:"email",type:"email",placeholder:"Email",onChange:s,value:a.email,required:!0})]}),r.email&&Object(C.jsx)("h3",{children:r.email}),Object(C.jsxs)(j.a.Group,{className:"mb-3",controlId:"formGroupPassword",children:[Object(C.jsx)(j.a.Label,{children:"Password"}),Object(C.jsx)(j.a.Control,{name:"password",type:"password",placeholder:"Enter password",onChange:s,value:a.password,required:!0})]}),r.password&&Object(C.jsx)("h3",{children:r.password}),Object(C.jsxs)(j.a.Group,{className:"mb-3",controlId:"formGroupConfirmPassword",children:[Object(C.jsx)(j.a.Label,{children:"Confirm Password"}),Object(C.jsx)(j.a.Control,{name:"confirmPassword",type:"password",placeholder:"Confirm Password",onChange:s,value:a.confirmPassword,required:!0})]}),r.confirmPassword&&Object(C.jsx)("h3",{children:r.confirmPassword}),Object(C.jsx)(u.a,{variant:"primary",onClick:c,children:"Submit"}),Object(C.jsx)("div",{children:Object(C.jsxs)(j.a.Label,{children:["Already a user ",Object(C.jsx)(o.b,{to:"/login",children:"Login"})," "]})})]})})},k=(a(214),a(98)),q=a(167),G=a(97);var T=function(e){var t=Object(i.g)(),a=localStorage.getItem("userDetails"),s=JSON.parse(a),c=Object(r.useState)(!1),n=Object(h.a)(c,2),l=n[0],d=n[1],j=Object(r.useState)(""),u=Object(h.a)(j,2),b=u[0],m=u[1];return Object(r.useEffect)((function(){a?(d(!0),m(s.profile_picture)):d(!1)}),[]),Object(C.jsx)("div",{children:Object(C.jsx)(k.a,{bg:"light",children:Object(C.jsxs)(q.a,{children:[Object(C.jsxs)(k.a.Brand,{children:["Welcome ",s?s.name:""]}),Object(C.jsx)(k.a.Toggle,{}),Object(C.jsx)(k.a.Collapse,{className:"justify-content-end",children:Object(C.jsx)(k.a.Text,{children:l?Object(C.jsxs)(G.a,{children:[Object(C.jsx)(G.a.Toggle,{variant:"success",id:"dropdown-basic",children:Object(C.jsx)("div",{children:Object(C.jsx)("img",{alt:"profile-picture",className:"profile-picture",src:b||""})})}),Object(C.jsxs)(G.a.Menu,{children:[Object(C.jsxs)(G.a.Item,{children:[" ",Object(C.jsx)(o.b,{to:"/myProfile",className:"my-profile-button",children:"My Profile"})," "]}),Object(C.jsx)(G.a.Item,{onClick:function(){localStorage.removeItem("accessToken"),localStorage.removeItem("userDetails"),t.push("/register")},children:"Logout"})]})]}):""})})]})})})},E=(a(215),a(170)),L=a(109);function B(e){var t={};return e.title||(t.title="Title is required"),e.description||(t.description="Description is required"),e.priority||(t.priority="Priority is required."),e.startDate||(t.startDate="Start date is required."),e.dueDate||(t.dueDate="Due Date is required."),t}var J=a(151),M=a.n(J),Y=a(108),R=a.n(Y);var _=function(){var e=f((function(e){console.log("handleSubmit"),console.log(t),O.a.post("https://todo-react-91a88-default-rtdb.firebaseio.com/tasks.json",{title:t.title,description:t.description,priority:t.priority,startDate:t.startDate,dueDate:t.dueDate}).then((function(e){alert("Task has been added successfully."),window.location.reload(),G()})).catch((function(e){console.log(e)}))}),B),t=e.values,a=e.errors,s=e.handleChange,c=e.handleSubmit,n=Object(r.useState)(null),o=Object(h.a)(n,2),i=o[0],l=o[1],d=Object(r.useState)(null),b=Object(h.a)(d,2),m=b[0],p=b[1],x=Object(r.useState)(null),g=Object(h.a)(x,2),v=g[0],w=g[1],D=Object(r.useState)([]),y=Object(h.a)(D,2),S=y[0],I=y[1],P=Object(r.useState)(!1),N=Object(h.a)(P,2),k=N[0],q=N[1];function G(){console.log("tasks"),O.a.get("https://todo-react-91a88-default-rtdb.firebaseio.com/tasks.json").then((function(e){var t=Object.entries(e.data),a=[];t.forEach((function(e){a.push(e[1])})),I(a)})).catch((function(e){console.log(e)}))}return Object(r.useEffect)((function(){G()}),[]),Object(C.jsxs)("div",{children:[Object(C.jsx)(T,{}),Object(C.jsx)(u.a,{variant:"primary",onClick:function(){return q(!0)},children:"+ Add a task"}),Object(C.jsxs)(E.a,{responsive:!0,children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{children:"Task Name"}),Object(C.jsx)("th",{children:"Description"}),Object(C.jsx)("th",{children:"Priority"}),Object(C.jsx)("th",{children:"Date"}),Object(C.jsx)("th",{children:"Due date"})]})}),Object(C.jsx)("tbody",{children:S.map((function(e){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:e.title}),Object(C.jsx)("td",{children:e.description}),Object(C.jsx)("td",{children:e.priority}),Object(C.jsx)("td",{children:R()(e.startDate).format("DD/MM/YYYY")}),Object(C.jsx)("td",{children:R()(e.dueDate).format("DD/MM/YYYY")})]})}))})]}),Object(C.jsxs)(L.a,{show:k,onHide:function(){return q(!1)},children:[Object(C.jsx)(L.a.Header,{closeButton:!0,children:Object(C.jsx)(L.a.Title,{children:"Add a Task"})}),Object(C.jsx)(L.a.Body,{children:Object(C.jsxs)(j.a,{children:[Object(C.jsxs)(j.a.Group,{className:"mb-3",controlId:"formBasicTitle",children:[Object(C.jsx)(j.a.Label,{children:"Title"}),Object(C.jsx)(j.a.Control,{name:"title",type:"text",placeholder:"Enter Title",onChange:s,value:t.title,required:!0})]}),a.title&&Object(C.jsx)("h3",{children:a.title}),Object(C.jsxs)(j.a.Group,{className:"mb-3",controlId:"formBasicDescription",children:[Object(C.jsx)(j.a.Label,{children:"Description"}),Object(C.jsx)(j.a.Control,{name:"description",as:"textarea",type:"text",placeholder:"Description",onChange:s,value:t.description,required:!0})]}),a.description&&Object(C.jsx)("h3",{children:a.description}),Object(C.jsx)(j.a.Group,{className:"mb-3",controlId:"formBasicPriority",children:Object(C.jsxs)(j.a.Select,{name:"priority","aria-label":"Priority",onChange:s,value:t.priority,required:!0,children:[Object(C.jsx)("option",{disabled:!0,children:"Select Priority"}),Object(C.jsx)("option",{value:"high",children:"High"}),Object(C.jsx)("option",{value:"medium",children:"Medium"}),Object(C.jsx)("option",{value:"low",children:"Low"})]})}),a.priority&&Object(C.jsx)("h3",{children:a.priority}),Object(C.jsx)(j.a.Group,{className:"mb-3",controlId:"formBasicDatepicker",children:Object(C.jsx)(M.a,{selected:m,onChange:function(e,t){return function(e,t){console.log("handleDateChange"),console.log(t),s({target:{name:"startDate",value:e}}),console.log(e),p(e),l(e)}(e,t)},minDate:new Date,maxDate:new Date(R()(new Date).add("5","months")),placeholderText:"Date",value:t.startDate})}),a.startDate&&Object(C.jsx)("h3",{children:a.startDate}),Object(C.jsx)(j.a.Group,{className:"mb-3",controlId:"formBasicDueDatePicker",children:Object(C.jsx)(M.a,{selected:v,onChange:function(e,t){return function(e,t){s({target:{name:"dueDate",value:e}}),w(e)}(e)},minDate:i,maxDate:new Date(R()(new Date).add("5","months")),placeholderText:"Due date",value:t.dueDate,name:"dueDate"})}),a.dueDate&&Object(C.jsx)("h3",{children:a.dueDate}),Object(C.jsx)(u.a,{variant:"primary",type:"submit",onClick:c,children:"Submit"})]})})]})]})};a(257);function A(e){var t={};return console.log(e),console.log(/([a-z\-_0-9\/\:\.]*\.(jpg|jpeg|png|gif))/i.test(e.image)),e.name||(t.name="Name is required"),e.image?/([a-z\-_0-9\/\:\.]*\.(jpg|jpeg|png|gif))/i.test(e.image)||(t.image="Image must be JPG,JPEG,PNG,GIF"):t.image="Image is required",t}var F=function(){var e=f((function(){O.a.get('https://todo-react-91a88-default-rtdb.firebaseio.com/users.json?orderBy="email"&equalTo='+n).then((function(e){var a=Object.entries(e.data);console.log(a),console.log(a[0]);var r=a[0][0];console.log(r),O.a.put("https://todo-react-91a88-default-rtdb.firebaseio.com/users/"+r+".json",{name:t.name,profile_picture:t.image,email:c.email}).then((function(e){console.log(e),alert("Data is updated successfully.");var a={name:t.name,profile_picture:t.image,email:c.email};console.log(a),localStorage.setItem("userDetails",JSON.stringify(a)),window.location.reload()})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))}),A),t=e.values,a=e.errors,r=e.handleChange,s=e.handleSubmit,c=JSON.parse(localStorage.getItem("userDetails")),n="".concat('"'+c.email+'"');return Object(C.jsxs)("div",{children:[Object(C.jsx)(T,{}),Object(C.jsxs)(j.a,{className:"profile-form",children:[Object(C.jsxs)(j.a.Group,{className:"mb-3",controlId:"formGroupName",children:[Object(C.jsx)(j.a.Label,{children:"Name"}),Object(C.jsx)(j.a.Control,{name:"name",type:"text",placeholder:"Enter name",onChange:r,value:t.name,required:!0})]}),a.name&&Object(C.jsx)("h3",{children:a.name}),Object(C.jsxs)(j.a.Group,{className:"mb-3",controlId:"formGroupImage",children:[Object(C.jsx)(j.a.Label,{children:"Image"}),Object(C.jsx)(j.a.Control,{name:"image",type:"text",placeholder:"Image URL",onChange:r,value:t.image,required:!0})]}),a.image&&Object(C.jsx)("h3",{children:a.image}),Object(C.jsx)(u.a,{onClick:s,children:"Submit"})]})]})};var z=function(){return Object(C.jsx)("div",{className:"App",children:Object(C.jsx)(o.a,{children:Object(C.jsxs)(i.d,{children:[Object(C.jsx)(i.b,{path:"/login",children:Object(C.jsx)(I,{})}),Object(C.jsx)(i.b,{path:"/register",children:Object(C.jsx)(N,{})}),Object(C.jsx)(i.b,{path:"/tasks",children:Object(C.jsx)(_,{})}),Object(C.jsx)(i.b,{path:"/myProfile",children:Object(C.jsx)(F,{})}),Object(C.jsx)(i.b,{exact:!0,path:"/",children:Object(C.jsx)(i.a,{to:"/register"})})]})})})},H=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,272)).then((function(t){var a=t.getCLS,r=t.getFID,s=t.getFCP,c=t.getLCP,n=t.getTTFB;a(e),r(e),s(e),c(e),n(e)}))};a(258),a(259);n.a.render(Object(C.jsx)(s.a.StrictMode,{children:Object(C.jsx)(z,{})}),document.getElementById("root")),H()}},[[260,1,2]]]);
//# sourceMappingURL=main.cd0b272e.chunk.js.map